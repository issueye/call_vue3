# 呼叫客户端 UI/UX 设计规范

> 版本: 1.0.0
> 最后更新: 2025-01-10

## 目录

- [设计原则](#设计原则)
- [色彩系统](#色彩系统)
- [字体系统](#字体系统)
- [间距与布局](#间距与布局)
- [组件规范](#组件规范)
- [动效设计](#动效设计)
- [响应式设计](#响应式设计)
- [无障碍设计](#无障碍设计)

---

## 设计原则

### 核心价值观

1. **专业性** - 医疗行业应用，界面需体现专业、可信
2. **清晰性** - 信息层级明确，重要信息突出
3. **效率性** - 快速操作，减少点击步骤
4. **一致性** - 视觉和交互保持统一

### 设计理念

```
简洁 + 专业 = 高效
```

---

## 色彩系统

### 主色调

| 名称 | 色值 | 用途 |
|------|------|------|
| 主色 | `#1661ab` | 主要按钮、链接、强调元素 |
| 主色悬停 | `#1a70c0` | 按钮悬停状态 |
| 主色激活 | `#145a96` | 按钮点击状态 |

### 功能色

| 名称 | 色值 | 用途 |
|------|------|------|
| 成功 | `#0b9349` | 操作成功、接诊中状态 |
| 警告 | `#f9c004` | 需要注意、优先状态 |
| 危险 | `#e0321f` | 错误、过号状态 |
| 信息 | `#909399` | 一般信息提示 |

### 患者状态色

| 状态 | 色值 | 含义 |
|------|------|------|
| 接诊中 | `#52c41a` | 正在就诊 |
| 优先 | `#faad14` | 优先就诊 |
| 候诊中 | `#1890ff` | 等待就诊 |
| 复诊 | `#722ed1` | 复诊患者 |
| 过号 | `#ff4d4f` | 已过号 |
| 结诊 | `#8c8c8c` | 诊疗结束 |

### 中性色

| 名称 | 色值 | 用途 |
|------|------|------|
| 背景 | `#f5f5f5` | 页面背景 |
| 白色 | `#ffffff` | 卡片、对话框背景 |
| 主文本 | `#303133` | 标题、正文 |
| 次要文本 | `#606266` | 说明文字 |
| 禁用文本 | `#909399` | 禁用状态文字 |
| 边框 | `#d9d9d9` | 分割线、边框 |

---

## 字体系统

### 字体族

```css
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
             "Helvetica Neue", Arial, sans-serif;
```

### 字号规范

| 名称 | 大小 | 用途 |
|------|------|------|
| 超小 | `12px` | 辅助信息、时间戳 |
| 小 | `13px` | 标签、说明 |
| 中 | `14px` | 正文（默认） |
| 大 | `16px` | 小标题、重要信息 |
| 超大 | `18px` | 标题 |
| 特大 | `24px` | 大标题 |
| 显示 | `42px` | 登录页主标题 |

### 字重规范

| 名称 | 数值 | 用途 |
|------|------|------|
| 常规 | `400` | 正文 |
| 中等 | `500` | 次要标题 |
| 粗体 | `600` | 主要标题 |
| 特粗 | `800` | 强调文本 |

---

## 间距与布局

### 间距系统

| 名称 | 数值 | 用途 |
|------|------|------|
| XS | `4px` | 元素内紧凑间距 |
| SM | `8px` | 小间距、相关元素 |
| MD | `12px` | 中等间距 |
| LG | `16px` | 大间距、区块间距 |
| XL | `24px` | 超大间距 |
| XXL | `32px` | 页面级间距 |

### 尺寸规范

| 组件 | 高度 | 用途 |
|------|------|------|
| 按钮-小 | `32px` | 次要操作 |
| 按钮-中 | `40px` | 常规操作 |
| 按钮-大 | `52px` | 主要操作 |
| 输入框 | `40px` | 表单输入 |
| 头部-桌面 | `80px` | 桌面端顶部栏 |
| 头部-移动 | `40px` | 移动端顶部栏 |
| 患者卡片 | `72px` | 患者列表项 |
| 状态栏 | `30px` | 底部状态栏 |

### 圆角规范

| 名称 | 数值 | 用途 |
|------|------|------|
| 小 | `4px` | 输入框、小按钮 |
| 中 | `8px` | 卡片、对话框 |
| 大 | `12px` | 大型组件 |

---

## 组件规范

### 按钮（BaseButton）

**尺寸变体**
```
小: 32px 高度, 12px 内边距, 13px 字号
中: 40px 高度, 16px 内边距, 14px 字号
大: 52px 高度, 24px 内边距, 16px 字号
```

**颜色变体**
```
gradient: 主色渐变（推荐用于主要操作）
success: 绿色（确认、成功）
warning: 黄色（警告）
danger: 红色（删除、取消）
default: 白色背景，灰色边框（次要操作）
```

**状态**
```
default: 默认状态
hover: 背景色加深
active: 背景色进一步加深
disabled: 50% 透明度，禁用鼠标事件
loading: 显示加载动画，禁用点击
```

### 徽章（BaseBadge）

**样式**
```
形状: 胶囊形 (border-radius: 9999px)
最小高度: 2px
内边距: 4px 8px
字号: 12px
```

**颜色映射**
```css
接诊中 → var(--color-success)
优先   → var(--color-warning)
候诊中 → var(--color-info)
复诊   → #722ed1
过号   → var(--color-danger)
结诊   → #8c8c8c
```

### 患者卡片（PatientItem）

**结构**
```
┌─────────────────────────────────────┐
│ [序号]  [姓名]  [状态徽章]  [年龄]  │
│          [科室]  [诊室]             │
└─────────────────────────────────────┘
```

**尺寸**
```
高度: 72px
内边距: 12px 16px
间距: 8px（信息元素之间）
```

**状态**
```
default: 白色背景，灰色边框
hover: 浅蓝背景 (#e6f7ff)
calling: 脉冲动画，蓝色边框
```

### 对话框（Dialog/SettingsDialog）

**结构**
```
┌─────────────────────────────────────┐
│  标题                    [关闭]     │
├─────────────────────────────────────┤
│                                     │
│  内容区域                           │
│                                     │
├─────────────────────────────────────┤
│            [取消]  [确定]           │
└─────────────────────────────────────┘
```

**样式**
```
背景: 白色
圆角: 8px
阴影: 0 4px 12px rgba(0,0,0,0.15)
最大宽度: 400px
```

**交互**
```
打开: 缩放淡入动画 (scale 0.9 → 1, opacity 0 → 1)
关闭: 点击遮罩、ESC 键、取消按钮
```

### 消息提示（Message）

**类型**
```
success: 绿色图标 + 绿色边框
info: 蓝色图标 + 蓝色边框
warning: 黄色图标 + 黄色边框
error: 红色图标 + 红色边框
```

**位置**
```
顶部居中，距离顶部 20px
```

---

## 动效设计

### 动画类型

```css
/* 淡入 */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 向上滑入 */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 脉冲效果 */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* 旋转 */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
```

### 过渡时长

| 类型 | 时长 | 缓动函数 |
|------|------|----------|
| 快速 | `0.15s` | linear |
| 常规 | `0.3s` | cubic-bezier(0.4, 0, 0.2, 1) |
| 缓慢 | `0.5s` | cubic-bezier(0.4, 0, 0.2, 1) |

### 动效使用场景

| 场景 | 动画 | 时长 |
|------|------|------|
| 页面切换 | 淡入 | 0.3s |
| 对话框打开 | 缩放淡入 | 0.2s |
| 消息提示 | 滑入 | 0.3s |
| 加载状态 | 旋转 | 循环 |
| 呼叫中 | 脉冲 | 2s 循环 |

---

## 响应式设计

### 断点

| 设备 | 断点 | 组件策略 |
|------|------|----------|
| 移动端 | `< 768px` | 使用 `components/layout/mobile/` 组件 |
| 桌面端 | `≥ 768px` | 使用 `components/layout/desktop/` 组件 |

### 桌面端布局

```
┌────────────────────────────────────────────────┐
│  Header (80px)                                  │
├────────────────┬───────────────────────────────┤
│                │                               │
│  PatientList   │  PatientDetailCard            │
│  (300px)       │  (flex: 1)                    │
│                │                               │
│                │  CallButtons                  │
└────────────────┴───────────────────────────────┘
│  StatusBar (30px)                               │
└────────────────────────────────────────────────┘
```

### 移动端布局

```
┌──────────────────────┐
│  Header (40px)       │
├──────────────────────┤
│  PatientDetailCard   │
│                      │
│  CallButtons         │
│                      │
│  PatientList         │
│                      │
├──────────────────────┤
│  StatusBar (30px)    │
└──────────────────────┘
```

---

## 无障碍设计

### 语义化 HTML

```html
<!-- 正确 -->
<button class="btn">按钮</button>
<nav class="nav">...</nav>
<main class="main">...</main>

<!-- 避免 -->
<div class="btn" onclick="...">按钮</div>
```

### 键盘支持

| 按键 | 功能 |
|------|------|
| `Enter` | 提交表单、确认操作 |
| `Escape` | 关闭对话框 |
| `Tab` | 焦点移动 |
| `Space` | 激活按钮/复选框 |

### 焦点管理

```css
/* 可见焦点样式 */
:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}
```

### 颜色对比度

所有文本与背景的对比度符合 WCAG 2.1 AA 标准：
- 常规文本: ≥ 4.5:1
- 大号文本 (≥18px): ≥ 3:1

---

## CSS 变量参考

```css
:root {
  /* 主色 */
  --color-primary: #1661ab;
  --color-primary-hover: #1a70c0;
  --color-primary-active: #145a96;

  /* 功能色 */
  --color-success: #0b9349;
  --color-warning: #f9c004;
  --color-danger: #e0321f;
  --color-info: #909399;

  /* 中性色 */
  --color-bg: #f5f5f5;
  --color-white: #ffffff;
  --color-text-primary: #303133;
  --color-text-secondary: #606266;
  --color-text-disabled: #909399;
  --color-border: #d9d9d9;

  /* 字号 */
  --font-xs: 12px;
  --font-sm: 13px;
  --font-md: 14px;
  --font-lg: 16px;
  --font-xl: 18px;
  --font-xxl: 24px;
  --font-display: 42px;

  /* 间距 */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 12px;
  --space-lg: 16px;
  --space-xl: 24px;
  --space-xxl: 32px;

  /* 圆角 */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* 过渡 */
  --transition-fast: 0.15s linear;
  --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
```

---

## 文件结构

```
frontend/src/
├── assets/css/
│   ├── main.css          # 全局样式入口
│   ├── variables.css     # CSS 变量定义
│   ├── animations.css    # 动画定义
│   └── base.css          # 基础样式重置
├── components/
│   ├── common/           # 通用组件
│   │   ├── BaseButton.vue
│   │   ├── BaseBadge.vue
│   │   ├── Message.css
│   │   └── SettingsDialog.css
│   └── layout/
│       ├── desktop/      # 桌面端布局组件
│       └── mobile/       # 移动端布局组件
└── views/
    ├── Login.vue
    └── Layout.vue
```

---

## 设计资源

### Figma（推荐）
如需 Figma 设计系统文件，请创建以下结构：
- `Components/` - 原子组件库
- `Patterns/` - 常用模式
- `Templates/` - 页面模板
- `Assets/` - 图标和插图

### 图标
项目使用 Emoji 作为图标，建议统一升级为图标库（如 Lucide Icons 或 Heroicons）以获得更好的视觉效果。

---

## 更新日志

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| 1.0.0 | 2025-01-10 | 初始版本，基于现有代码分析 |

---

## 联系方式

如有设计相关问题，请联系设计团队或查阅项目 Wiki。
